module.exports=function(t){var e={};function o(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=21)}([,function(t,e){t.exports=flarum.core.compat.extend},function(t,e){t.exports=flarum.core.compat["components/IndexPage"]},function(t,e){t.exports=flarum.core.compat["components/DiscussionPage"]},,function(t,e){t.exports=flarum.core.compat["components/DiscussionListItem"]},,,function(t,e){t.exports=flarum.core.compat["utils/PostControls"]},function(t,e){t.exports=flarum.core.compat["components/Dropdown"]},function(t,e){t.exports=flarum.core.compat["utils/DiscussionControls"]},function(t,e){t.exports=flarum.core.compat["helpers/listItems"]},function(t,e){t.exports=flarum.core.compat["components/Navigation"]},function(t,e){t.exports=flarum.core.compat["components/LinkButton"]},function(t,e){t.exports=flarum.core.compat["components/CommentPost"]},function(t,e){t.exports=flarum.core.compat["components/Post"]},function(t,e){t.exports=flarum.core.compat["components/PostStream"]},,,,,function(t,e,o){"use strict";o.r(e);var n=o(1),r=o(12),a=o.n(r);var s=o(2),i=o.n(s),c=o(13),u=o.n(c),l=o(14),p=o.n(l),f=o(8),d=o.n(f),h=o(9),b=o.n(h),v=o(10),y=o.n(v),g=o(15),O=o.n(g),S=o(11),x=o.n(S),k=o(3),N=o.n(k);function P(t,e){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(o)return(o=o.call(t)).next.bind(o);if(Array.isArray(t)||(o=function(t,e){if(!t)return;if("string"==typeof t)return j(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return j(t,e)}(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function j(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}var B=o(5),A=o.n(B),I=o(16),w=o.n(I);app.initializers.add("block-cat/portlet-ui",(function(){var t,e;t=app.routes,e=JSON.parse(app.data.resources[0].attributes["block-cat.defaultRoutes"]),Object.keys(t).map((function(t){e.hasOwnProperty(t)&&""!==e[t].path&&(app.routes[t].path=e[t].path)})),Object(n.extend)(i.a.prototype,"navItems",(function(t){var e=JSON.parse(app.forum.attribute("block-cat.defaultSettings")),o=app.search.stickyParams();""!==e.allDiscussionsIcon&&t.has("allDiscussions")&&t.replace("allDiscussions",u.a.component({href:app.route("index",o),icon:e.allDiscussionsIcon},app.translator.trans("core.forum.index.all_discussions_link")),100)})),Object(n.extend)(i.a.prototype,"sidebarItems",(function(t){JSON.parse(app.forum.attribute("block-cat.defaultSettings")).mainPageMenu&&t.has("nav")&&t.remove("nav")})),Object(n.extend)(i.a.prototype,"view",(function(t){JSON.parse(app.forum.attribute("block-cat.defaultSettings")).toolbar&&t.children[1].children[0].children[1].children.shift()})),Object(n.extend)(i.a.prototype,"actionItems",(function(t){var e=JSON.parse(app.forum.attribute("block-cat.defaultSettings"));e.refreshButton&&t.has("refresh")&&t.remove("refresh"),e.markAllAsReadButton&&t.has("markAllAsRead")&&t.remove("markAllAsRead")})),Object(n.extend)(N.a.prototype,"view",(function(t){if(JSON.parse(app.forum.attribute("block-cat.defaultSettings")).discussionMenu)try{t.children[1].children[1].children.shift()}catch(t){}})),Object(n.extend)(N.a.prototype,"sidebarItems",(function(t){var e=JSON.parse(app.forum.attribute("block-cat.defaultSettings"));e.controlsButton&&t.has("controls")&&t.remove("controls"),e.scrubberDiv&&t.has("scrubber")&&t.remove("scrubber")})),Object(n.extend)(p.a.prototype,"headerItems",(function(t){var e=this,o=JSON.parse(app.forum.attribute("block-cat.defaultSettings")),n=d.a.controls(this.attrs.post,this);if(o.discussionControlsToPost&&1===this.attrs.post.number()){var r=this.attrs.post.data.relationships.discussion.data,a=app.store.getById(r.type,r.id),s=y.a.moderationControls(a);s.has("lock")&&s.remove("lock"),s.has("sticky")&&s.remove("sticky"),s.has("rename")&&(s.get("rename").attrs.icon="fas fa-heading"),n.merge(s)}o.postControlsUp&&t.add("controls",m("aside",{className:"Post-actions-top"},m("ul",null,n.toArray().length?m("li",null,m(b.a,{className:"Post-controls-h",buttonClassName:"Button Button--icon Button--flat",menuClassName:"Dropdown-menu--right",icon:"fas fa-ellipsis-h",onshow:function(){return e.$(".Post-actions-top").addClass("open")},onhide:function(){return e.$(".Post-actions-top").removeClass("open")}},n.toArray())):"")))})),Object(n.override)(O.a.prototype,"view",(function(t){var e=this,o=JSON.parse(app.forum.attribute("block-cat.defaultSettings")),n=this.elementAttrs();n.className=this.classes(n.className).join(" ");var r=d.a.controls(this.attrs.post,this);if(o.discussionControlsToPost){if(1===this.attrs.post.number()){var a=this.attrs.post.data.relationships.discussion.data,s=app.store.getById(a.type,a.id),i=y.a.moderationControls(s);i.has("lock")&&i.remove("lock"),i.has("sticky")&&i.remove("sticky"),i.has("rename")&&(i.get("rename").attrs.icon="fas fa-heading"),r.merge(i)}return m("article",n,m("div",null,this.content(),m("aside",{className:"Post-actions"},m("ul",null,x()(this.actionItems().toArray()),r.toArray().length?m("li",null,m(b.a,{className:"Post-controls",buttonClassName:"Button Button--icon Button--flat",menuClassName:"Dropdown-menu--right",icon:"fas fa-ellipsis-h",onshow:function(){return e.$(".Post-actions").addClass("open")},onhide:function(){return e.$(".Post-actions").removeClass("open")}},r.toArray())):"")),m("footer",{className:"Post-footer"},m("ul",null,x()(this.footerItems().toArray())))))}return t()})),Object(n.extend)(A.a.prototype,"view",(function(t){JSON.parse(app.forum.attribute("block-cat.defaultSettings")).postCount&&t.children[2].children.pop()})),Object(n.override)(a.a.prototype,"view",(function(t){if(JSON.parse(app.forum.attribute("block-cat.defaultSettings")).emoldovaButton){var e=app,o=e.history,n=e.pane;return m("div",{className:"Navigation ButtonGroup "+(this.attrs.className||""),onmouseenter:n&&n.show.bind(n),onmouseleave:n&&n.onmouseleave.bind(n)},o.canGoBack()?[this.getBackButton(),this.getPaneButton()]:[m("a",{class:"Button Button--icon hasIcon",href:"https://emoldova.org/",title:"EMoldova",active:"false",type:"button",target:"_self"},m("i",{class:"icon fas fa-home Button-icon"})),this.getDrawerButton()])}return t()})),Object(n.extend)(w.a.prototype,"view",(function(t){JSON.parse(app.forum.attribute("block-cat.defaultSettings")).postReply&&t.children.map((function(e){"reply"===e.key&&t.children.pop()}))})),Object(n.extend)(A.a.prototype,"infoItems",(function(t){JSON.parse(app.forum.attribute("block-cat.defaultSettings")).terminalPost&&t.has("terminalPost")&&t.remove("terminalPost")})),Object(n.extend)(N.a.prototype,"oninit",(function(){JSON.parse(app.forum.attribute("block-cat.defaultSettings")).pane&&app.pane.disable()})),Object(n.extend)(N.a.prototype,"oncreate",(function(){if(JSON.parse(app.forum.attribute("block-cat.defaultSettings")).pane)for(var t,e=P(this.element.children);!(t=e()).done;){var o=t.value;"DiscussionPage-list"===o.className&&o.remove()}}))}),-20)}]);
//# sourceMappingURL=forum.js.map